# 파트 10: AI 기반 로봇 응용 (AI-Powered Robotic Applications)

## 10.3. 항공 로보틱스 (Aerial Robotics / Drones)

### 10.3.2. 항법 (Navigation) 및 궤적 추종 (Trajectory Tracking)

**들어가며**

드론의 동역학과 제어 원리를 이해했다면, 이제 드론에게 '임무'를 부여할 차례입니다. 항법(Navigation)은 드론이 자신의 위치와 상태를 파악(Localization)하고, 주어진 지도(Map) 안에서 출발점에서 목적지까지의 경로를 계획(Path Planning)하며, 그 경로를 따라 비행하는 전 과정을 의미합니다. 특히, 단순히 최종 목적지에 도착하는 것을 넘어, 시간까지 고려된 정해진 **궤적(Trajectory)**을 정확하게 따라가는 기술이 **궤적 추종(Trajectory Tracking)**입니다. 이는 항공 촬영, 정밀 농업, 시설물 검사 등 정교한 임무 수행에 필수적입니다.

이 장에서는 드론의 항법 시스템과 주어진 궤적을 정밀하게 추종하는 제어 기법에 대해 알아봅니다.

---

**1. 드론 항법 시스템 (Navigation System)**

드론의 항법은 크게 '어디에 있는가(Localization)', '어디로 갈 것인가(Path Planning)', '어떻게 갈 것인가(Control)'의 세 부분으로 구성됩니다.

- **위치 추정 (Localization):**
  - **GPS (Global Positioning System):** 실외 환경에서 가장 보편적으로 사용되는 위치 추정 방법입니다. 위성 신호를 수신하여 드론의 전역 위치(위도, 경도, 고도)를 파악합니다.
  - **IMU (Inertial Measurement Unit):** 가속도계와 자이로스코프로 구성된 센서로, 드론의 자세(Roll, Pitch, Yaw)와 움직임 변화를 매우 빠른 속도로 측정합니다. 하지만 시간이 지남에 따라 오차가 누적(drift)되는 단점이 있습니다.
  - **센서 퓨전 (Sensor Fusion):** GPS와 IMU는 상호보완적입니다. 장기적으로는 정확하지만 업데이트가 느린 GPS와, 단기적으로는 정밀하지만 오차가 누적되는 IMU의 데이터를 **확장 칼만 필터(EKF)** 등으로 융합하여(파트 10.1.1 연계), 빠르고 정확하며 안정적인 드론의 상태(위치, 속도, 자세)를 추정합니다. 실내 환경에서는 GPS 대신 Visual SLAM이나 LiDAR SLAM(파트 10.1.2 연계)이 위치 추정에 사용됩니다.

- **경로 계획 (Path Planning):**
  - 지상 로봇과 마찬가지로, 드론도 A*나 RRT*(파트 10.1.3 연계)와 같은 알고리즘을 사용하여 3차원 공간에서 장애물을 피해 목적지까지의 경로를 계획합니다.
  - **궤적 생성 (Trajectory Generation):** 경로가 점들의 집합이라면, 궤적은 각 지점을 '언제' 통과해야 하는지에 대한 시간 정보가 추가된 것입니다. 부드러운 비행을 위해, 경로 점들을 잇는 다항식(Polynomial)이나 스플라인(Spline) 곡선을 사용하여 미분 가능한(부드러운) 궤적을 생성합니다.

---

**2. 궤적 추종 제어 (Trajectory Tracking Control)**

생성된 궤적은 드론이 따라가야 할 '이상적인' 시공간적 경로입니다. 궤적 추종 제어기는 현재 드론의 실제 상태와 궤적 상의 목표 상태 간의 오차를 계산하고, 이 오차를 최소화하는 방향으로 모터에 명령을 내립니다.

- **피드포워드 제어 (Feedforward Control):**
  - **개념:** 오차가 발생한 '후에' 반응하는 피드백 제어(Feedback Control, 예: PID)와 달리, 오차가 발생하기 '전에' 시스템에 필요한 제어 입력을 미리 계산하여 가해주는 방식입니다.
  - **드론에서의 적용:**
    - 주어진 궤적으로부터, 해당 시점에서 드론이 가져야 할 **이상적인 가속도, 각속도** 등을 동역학 모델(파트 10.3.1)의 역(inverse)계산을 통해 미리 계산할 수 있습니다.
    - 예를 들어, 특정 곡선 경로를 돌기 위해 필요한 기울기(롤, 피치 각도)와 추력을 미리 계산하여 제어기에 알려줍니다.
  - **장점:** 피드백 제어기가 감당해야 할 부담을 크게 줄여줍니다. 드론이 목표 궤적에서 크게 벗어나지 않도록 선제적으로 잡아주므로, 추종 성능이 크게 향상됩니다.

- **피드백 + 피드포워드 제어 아키텍처:**
  - 현대 드론 제어는 이 두 가지를 결합한 형태가 일반적입니다.
  - **`제어 입력 = 피드포워드 항 + 피드백 항`**
    1. **피드포워드 제어기:** 궤적으로부터 계산된 이상적인 제어 입력을 계산하여 시스템의 주된 움직임을 만듭니다.
    2. **피드백 제어기 (PID):** 피드포워드 제어만으로는 완벽히 상쇄할 수 없는 오차(예: 바람, 모델의 불확실성)를 보상하는 역할을 합니다. 실제 상태와 목표 상태 간의 남은 오차를 측정하여 추가적인 제어 입력을 생성합니다.

- **기하학적 제어 (Geometric Control):**
  - **개념:** 전통적인 제어 방식이 좌표계의 각 요소(x, y, z 등)를 독립적으로 제어하려 했던 것과 달리, 드론의 동역학적 특성이 좌표계의 선택에 따라 변하지 않는다는 '기하학적' 특성을 직접 활용하는 비선형 제어 기법입니다.
  - **장점:** 복잡한 수식을 사용하지만, 매우 공격적이고 곡예와 같은(acrobatic) 기동에서도 드론의 안정성을 잃지 않도록 하는 강력한 제어 성능을 보여줍니다. 최근 고성능 드론 제어 연구에서 각광받고 있습니다.

**결론**

드론의 항법과 궤적 추종은 '지능적인 비행'의 핵심입니다. GPS와 IMU를 융합하여 자신의 상태를 정확히 파악하고, 주어진 임무에 맞는 부드러운 궤적을 생성한 뒤, 피드포워드와 피드백 제어의 정교한 조합을 통해 그 궤적을 한 치의 오차 없이 따라감으로써 드론은 비로소 복잡한 3차원 공간을 자유자재로 누비는 '항공 로봇'으로서의 역할을 수행할 수 있게 됩니다.
