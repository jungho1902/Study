# 파트 10: AI 기반 로봇 응용 (AI-Powered Robotic Applications)

## 10.3. 항공 로보틱스 (Aerial Robotics / Drones)

### 10.3.1. 드론 동역학 및 제어 모델

**들어가며**

드론, 특히 쿼드콥터(Quadcopter)는 어떻게 하늘을 자유롭게 날아다니며 정교한 움직임을 만들어낼 수 있을까요? 그 비밀은 네 개의 프로펠러가 만들어내는 힘과 토크(회전력)를 정밀하게 제어하는 데 있습니다. 드론의 움직임을 이해하고 제어하기 위해서는 먼저 드론에 작용하는 물리적인 힘과 그로 인한 운동 방정식을 이해해야 합니다. 이것이 바로 **동역학(Dynamics)**입니다.

이 장에서는 쿼드콥터를 중심으로 드론의 기본적인 동역학 모델과 이를 제어하기 위한 원리에 대해 알아봅니다.

---

**1. 쿼드콥터의 기본 구조와 비행 원리**

- **구조:** 쿼드콥터는 이름에서 알 수 있듯이 4개의 로터(Rotor, 프로펠러+모터)를 가지고 있습니다. 이 로터들은 '+' 또는 'x' 형태로 배치됩니다.
- **비행 원리:**
  - **양력 (Lift):** 4개의 프로펠러가 회전하면서 공기를 아래로 밀어내고, 그 반작용으로 위로 떠오르는 힘(양력)을 발생시킵니다. 4개 로터의 전체 추력(Thrust)이 드론의 무게(중력)보다 커지면 드론은 위로 상승합니다.
  - **자세 제어 (Attitude Control):** 인접한 두 프로펠러는 시계 방향(CW)으로, 다른 두 개는 반시계 방향(CCW)으로 회전합니다. 이는 각 모터에서 발생하는 반동 토크(Reactive Torque)를 서로 상쇄시켜, 드론이 제자리에서 빙글빙글 돌지 않도록 하기 위함입니다.

---

**2. 드론의 움직임 (6-DoF Motion)**

드론은 3차원 공간에서 6자유도(6-DoF) 운동을 합니다: 3개의 병진 운동(Translation)과 3개의 회전 운동(Rotation).

- **병진 운동 (Translation):**
  - **수직 이동 (Throttle):** 4개 로터의 회전 속도를 모두 함께 높이거나 낮추어 추력을 조절합니다. (상승/하강)
  - **수평 이동 (x, y):** 드론을 앞뒤, 좌우로 기울여서 이동합니다.

- **회전 운동 (Rotation):**
  - **롤 (Roll):** 드론의 좌우 기울기. 좌측(또는 우측) 두 로터의 속도를 줄이고, 반대편 두 로터의 속도를 높여서 만듭니다. 롤 운동은 좌우 수평 이동(y-axis movement)을 유발합니다.
  - **피치 (Pitch):** 드론의 앞뒤 기울기. 뒤쪽(또는 앞쪽) 두 로터의 속도를 줄이고, 반대편 두 로터의 속도를 높여서 만듭니다. 피치 운동은 앞뒤 수평 이동(x-axis movement)을 유발합니다.
  - **요 (Yaw):** 드론의 제자리 회전. 반시계 방향으로 도는 두 로터의 속도를 높이고, 시계 방향으로 도는 두 로터의 속도를 낮추면(또는 그 반대), 반동 토크의 불균형이 발생하여 드론이 회전합니다.

---

**3. 동역학 모델링 (Dynamics Modeling)**

드론의 움직임을 수학적으로 기술하는 과정입니다. 이는 보통 뉴턴-오일러 방정식(파트 8.3 연계)을 기반으로 합니다.

- **필요한 좌표계:**
  - **월드 좌표계 (World Frame):** 지구에 고정된 절대 좌표계. 드론의 전역 위치와 방향을 나타냅니다.
  - **바디 좌표계 (Body Frame):** 드론의 무게 중심에 고정된 상대 좌표계. 로터가 생성하는 힘과 토크는 이 좌표계를 기준으로 계산됩니다.

- **주요 방정식:**
  - **병진 운동 방정식:** $`F = ma`$
    - 드론에 작용하는 모든 힘(F)의 합은 질량(m)과 가속도(a)의 곱과 같습니다.
    - 주요 힘: 중력, 4개 로터의 총 추력
  - **회전 운동 방정식:** $`\tau = I \alpha`$
    - 드론에 작용하는 모든 토크($`\tau`$)의 합은 관성 모멘트(I)와 각가속도($`\alpha`$)의 곱과 같습니다.
    - 주요 토크: 각 로터의 추력 차이로 발생하는 롤, 피치 토크 및 반동 토크 차이로 발생하는 요 토크

---

**4. 드론 제어 모델 (Control Model)**

동역학 모델을 바탕으로, 원하는 움직임을 만들어내기 위해 각 모터의 속도를 어떻게 조절할지 결정하는 것이 제어입니다. 드론 제어에는 주로 **PID 제어(파트 8.4 연계)**가 계층적으로 사용됩니다.

- **계층적 PID 제어 (Cascaded PID Control):**
  - **개념:** 위치 제어기와 자세 제어기를 분리하여 계층적으로 구성합니다. 외부 루프(Outer Loop)가 원하는 위치를 따라가기 위해 필요한 '목표 자세(Target Attitude)'를 계산하면, 내부 루프(Inner Loop)가 그 목표 자세를 만들기 위해 필요한 모터 명령을 계산하는 구조입니다.
  - **구조:**
    1.  **위치 제어 루프 (Position Control Loop - Outer Loop):**
        - **입력:** 목표 위치, 현재 위치
        - **출력:** 이 위치 오차를 줄이기 위해 드론이 가져야 할 **목표 롤(Roll), 피치(Pitch) 각도**와 **총 추력(Thrust)**.
        - **예시:** 목표 지점이 오른쪽에 있다면, '오른쪽으로 10도 기울여라'와 같은 명령을 생성합니다.

    2.  **자세 제어 루프 (Attitude Control Loop - Inner Loop):**
        - **입력:** 위치 제어기가 생성한 목표 자세(롤, 피치, 요), 현재 자세(IMU 센서로 측정)
        - **출력:** 이 자세 오차를 줄이기 위해 각 모터에 인가해야 할 **최종 제어 신호 (모터 속도)**.
        - **예시:** '오른쪽으로 10도 기울이기' 위해, 왼쪽 로터들의 속도를 높이고 오른쪽 로터들의 속도를 줄이는 계산을 수행합니다.

- **장점:**
  - 내부 루프(자세 제어)는 외부 루프(위치 제어)보다 훨씬 빠르게 동작해야 안정적입니다. 이처럼 서로 다른 시간 스케일의 제어를 분리하여 설계함으로써, 전체 시스템을 더 안정적이고 직관적으로 튜닝할 수 있습니다.

**결론**

드론의 비행은 복잡해 보이지만, 그 바탕에는 명확한 동역학 원리가 있습니다. 4개 로터의 힘과 토크를 조절하여 롤, 피치, 요 회전 운동을 만들고, 이 기울기를 이용해 수평 이동을 유발하는 것이 핵심입니다. 그리고 이러한 움직임을 정교하게 구현하는 데에는 계층적 PID 제어라는 강력하고 효과적인 제어 모델이 중추적인 역할을 합니다. 이 동역학 및 제어 모델에 대한 이해는 향후 다룰 항법, 궤적 추종, 자율 비행 기술의 근간이 됩니다.
