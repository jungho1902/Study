# 파트 10: AI 기반 로봇 응용 (AI-Powered Robotic Applications)

## 10.4. 휴머노이드 및 다리 로봇 (Humanoids and Legged Robots)

### 10.4.1. 보행 패턴 생성 (Gait Generation) 및 안정성

**들어가며**

바퀴 달린 로봇이 갈 수 없는 험지나 계단과 같은 환경을 극복하기 위해, 인간과 동물의 다리 구조를 모방한 다리 로봇(Legged Robot)이 개발되었습니다. 특히 인간형 로봇인 휴머노이드는 인간의 환경에서 인간과 상호작용하며 작업을 수행하는 것을 목표로 합니다. 이러한 로봇들의 핵심 기술은 바로 **보행(Locomotion)**, 즉 걷고 뛰는 능력입니다. **보행 패턴 생성(Gait Generation)**은 로봇이 넘어지지 않고 안정적으로 걷기 위해 다리의 움직임을 어떻게 만들어낼 것인가에 대한 기술입니다.

이 장에서는 다리 로봇을 위한 보행 패턴을 어떻게 생성하고, 그 안정성을 어떻게 평가하는지에 대해 알아봅니다.

---

**1. 보행 패턴 (Gait Pattern) 이란?**

보행 패턴은 걷거나 뛸 때 다리들이 땅을 딛고 움직이는 순서와 타이밍의 시퀀스를 의미합니다. 로봇의 다리 수나 목표 속도, 지형에 따라 다양한 보행 패턴이 존재합니다.

- **정적 보행 (Static Gait):**
  - **개념:** 로봇이 움직이는 매 순간, 무게 중심(Center of Gravity, CoG)이 항상 지지 다각형(Support Polygon, 땅에 닿은 발들을 잇는 다각형) 내부에 위치하도록 하는 보행입니다.
  - **특징:** 언제든지 멈추어도 넘어지지 않으므로 매우 안정적입니다. 주로 다리가 4개 이상인 다족 로봇에서 사용됩니다.
  - **단점:** 매우 느립니다. 인간이나 동물의 일반적인 걸음걸이는 정적 보행이 아닙니다.

- **동적 보행 (Dynamic Gait):**
  - **개념:** 움직이는 동안 무게 중심이 지지 다각형을 벗어나는 것을 허용하는 보행입니다. 넘어지기 전에 다음 발을 내딛어 새로운 지지 다각형을 형성함으로써 균형을 유지합니다.
  - **특징:** 인간의 걷기, 달리기와 같이 자연스럽고 효율적인 움직임이 가능합니다. 보행의 특성은 한 주기 동안 발이 땅에 닿아있는 시간의 비율인 **듀티 팩터(duty factor)**로 표현하기도 합니다. (예: 걷기 ≥ 0.5, 달리기 < 0.5)
  - **종류 (4족 로봇 기준):**
    - **워크 (Walk):** 항상 2개 또는 3개의 발이 땅에 닿아 있음.
    - **트롯 (Trot):** 대각선 방향의 두 발이 한 쌍으로 움직임. (예: 왼쪽 앞다리 + 오른쪽 뒷다리)
    - **페이스 (Pace):** 같은 쪽의 두 발이 한 쌍으로 움직임. (예: 왼쪽 앞다리 + 왼쪽 뒷다리)
    - **갤롭 (Gallop):** 달릴 때처럼 공중에 떠 있는 비행 구간(flight phase)이 존재함.

---

**2. 보행 패턴 생성 방법**

안정적인 보행을 위한 로봇 다리의 이상적인 궤적을 어떻게 만들 수 있을까요?

- **중앙 패턴 생성기 (Central Pattern Generators, CPGs):**
  - **개념:** 동물의 척수 신경망에 존재하는, 걷기와 같은 리드미컬한 운동을 생성하는 신경 회로를 수학적으로 모델링한 것입니다.
  - **장점:** 계산이 간단하고, 외부 충격(예: 발이 미끄러짐)에 대해 자연스럽게 반응하고 원래의 리듬을 회복하는 강건성을 보입니다.
  - **단점:** 원하는 특정 보행 패턴을 정교하게 설계하기 어렵습니다.

- **궤적 최적화 (Trajectory Optimization):**
  - **개념:** 보행에 필요한 물리 법칙(동역학)과 제약 조건(예: 발은 땅을 뚫을 수 없다, 모터는 한계 토크가 있다)을 모두 만족시키면서, 특정 목표(예: 에너지 소비 최소화)를 달성하는 최적의 관절 궤적을 수학적으로 계산하는 방식입니다.
  - **어려움:** 이는 보통 **비볼록(non-convex) 최적화 문제**가 되기 때문에, 전역 최적해(globally optimal solution)를 찾는 것이 매우 어렵고 계산량이 많습니다.
  - **장점:** 매우 효율적이고 자연스러운, 또는 특정 목적에 최적화된 보행 패턴을 생성할 수 있습니다.
  - **단점:** 계산이 복잡하여 실시간 적용이 어렵고, 주로 오프라인으로 최적의 패턴을 미리 계산하는 데 사용됩니다.

---

**3. 보행 안정성 (Gait Stability)**

로봇이 생성된 보행 패턴을 따라 걷다가 넘어지지 않을지 어떻게 판단할 수 있을까요?

- **정적 안정성 (Static Stability):**
  - **기준:** 무게 중심(CoG)의 수직 투영점이 항상 지지 다각형 내부에 있는가?
  - **적용:** 정적 보행의 안정성을 판단하는 기준입니다.

- **동적 안정성 (Dynamic Stability):**
  - **기준:** 단순히 현재 무게 중심의 위치만 보는 것이 아니라, 움직임(운동량)까지 고려해야 합니다.
  - **ZMP (Zero Moment Point):** 동적 보행의 안정성을 평가하는 가장 대표적인 기준입니다. (파트 10.4.3에서 자세히 다룸)
    - **개념:** 로봇의 발바닥과 지면이 접촉하는 지점에서, 로봇의 움직임으로 인해 발생하는 모든 관성력과 중력이 합쳐져 만들어내는 전도 모멘트(overturning moment)가 0이 되는 지점을 의미합니다.
    - **안정 조건:** **ZMP가 항상 발바닥(지지 다각형) 내부에 존재해야 합니다.** 만약 ZMP가 발바닥을 벗어나면, 그 방향으로 넘어지는 회전력이 발생했다는 의미입니다.
  - **캡처 포인트 (Capture Point / Divergent Component of Motion):**
    - **개념:** 현재 로봇의 운동 상태(위치, 속도)를 고려할 때, "만약 지금부터 힘을 빼고 중력에 의해서만 움직인다면, 로봇의 무게 중심이 결국 어느 지점에서 멈추게 될까?"에 해당하는 지상 지점입니다. 더 직관적으로는 "넘어지지 않기 위해 다음 발을 반드시 딛어야만 하는 지점"을 의미합니다.
    - **활용:** ZMP가 현재의 안정성을 나타낸다면, 캡처 포인트는 미래의 안정성을 예측하는 지표입니다. ZMP 제어만으로 감당하기 힘든 큰 외란이 있을 때, 캡처 포인트 위치로 다음 발을 옮기는 전략(footstep adjustment)을 통해 균형을 회복합니다.

**결론**

보행 패턴 생성은 다리 로봇의 '걸음마'를 떼게 하는 핵심 기술입니다. CPG와 같은 생체 모방적 접근법과 궤적 최적화와 같은 수학적 접근법을 통해 다양한 보행 패턴을 만들어낼 수 있습니다. 그리고 ZMP와 같은 동적 안정성 지표를 통해 로봇은 자신이 넘어지지 않고 안정적으로 걷고 있음을 확인할 수 있습니다. 이러한 기술들을 바탕으로, 다리 로봇은 울퉁불퉁한 재난 현장이나 인간의 일상 공간 속으로 한 걸음 더 다가갈 수 있게 됩니다.
