# ROS 1 vs. ROS 2: 아키텍처 차이 및 선택 가이드

ROS(Robot Operating System)는 로봇 응용 프로그램을 개발하기 위한 유연한 프레임워크입니다. ROS 1과 ROS 2는 동일한 목표를 공유하지만, 아키텍처와 기능 면에서 중요한 차이점을 가집니다. 이 문서는 두 버전의 주요 차이점을 비교하고 어떤 버전을 선택해야 할지에 대한 가이드를 제공합니다.

## 1. 핵심 아키텍처 (Core Architecture)

| 구분 | ROS 1 | ROS 2 |
| --- | --- | --- |
| **통신 시스템** | TCPROS/UDPROS (커스텀 프로토콜) | DDS (Data Distribution Service) - 산업 표준 미들웨어 |
| **중앙 노드** | ROS Master (roscore) - 단일 장애점(SPOF) 존재 | 분산 디스커버리 (중앙 마스터 없음) - 향상된 안정성 |
| **네트워킹** | 주로 단일 로봇, 이상적인 네트워크 환경 가정 | 다중 로봇 시스템, 불안정한 네트워크(예: Wi-Fi) 지원 |

### ROS 1: Master-Slave 구조
ROS 1은 `roscore`라는 마스터 노드가 모든 노드 간의 연결 정보를 관리합니다. 마스터가 중단되면 전체 시스템의 통신이 마비될 수 있는 **단일 장애점(Single Point of Failure, SPOF)** 문제를 가집니다.

### ROS 2: 분산형 구조
ROS 2는 산업 표준인 **DDS(Data Distribution Service)**를 통신 미들웨어로 채택했습니다. DDS는 노드들이 네트워크상에서 서로를 자동으로 발견(Discovery)하는 분산형 구조를 가집니다. 이로 인해 중앙 마스터가 필요 없으며, 특정 노드의 장애가 전체 시스템에 미치는 영향이 적어 안정성이 크게 향상되었습니다.

## 2. 주요 개선 사항 (Key Improvements in ROS 2)

### 2.1. 실시간성 지원 (Real-time Support)
- **ROS 1:** 실시간 제어를 지원하지 않았습니다. `ros_control`과 같은 별도의 프레임워크가 필요했습니다.
- **ROS 2:** DDS와 연동하여 실시간 운영체제(RTOS) 환경에서 예측 가능한 동작을 보장하는 실시간 제어 시스템을 구축할 수 있습니다. 이는 정밀한 로봇 팔 제어나 고속 자율주행과 같은 응용에 필수적입니다.

### 2.2. 다중 로봇 시스템 및 상용 환경 지원
- **ROS 1:** 단일 로봇 및 연구 환경에 최적화되어 있습니다.
- **ROS 2:** 다중 로봇 간의 통신, 불안정한 네트워크 환경에서의 데이터 전송 품질(QoS) 설정 등 상용 수준의 요구사항을 충족하도록 설계되었습니다.

### 2.3. 지원 플랫폼 확대
- **ROS 1:** 주로 Ubuntu Linux에서 사용되었습니다.
- **ROS 2:** Linux, macOS, Windows 등 다양한 운영체제를 공식적으로 지원하여 개발 유연성이 높아졌습니다.

### 2.4. 보안 (Security)
- **ROS 1:** 통신 암호화, 노드 인증과 같은 보안 기능이 내장되어 있지 않습니다.
- **ROS 2:** DDS-Security를 통해 노드 간의 통신을 암호화하고, 접근 제어를 설정하는 등 강력한 보안 기능을 제공합니다.

## 3. 프로그래밍 및 개발 (Programming & Development)

| 구분 | ROS 1 | ROS 2 |
| --- | --- | --- |
| **주요 프로그래밍 언어** | C++, Python 2 | C++ (최신 표준), Python 3 |
| **빌드 시스템** | `catkin` | `colcon` (ament) |
| **라이프사이클 관리** | 없음 (수동 관리) | 노드 라이프사이클 관리 기능 내장 (Managed Nodes) |

- **Python 버전:** ROS 1은 주로 Python 2를 지원했으나, ROS 2는 Python 3를 기본으로 사용합니다.
- **노드 라이프사이클:** ROS 2는 노드의 상태(unconfigured, inactive, active, finalized)를 체계적으로 관리하는 **라이프사이클(Lifecycle)** 기능을 도입하여, 시스템을 보다 안정적으로 초기화하고 종료할 수 있게 해줍니다.

## 4. 선택 가이드: 언제 무엇을 사용해야 할까?

### ROS 1을 선택하는 경우:
- **기존 프로젝트 유지보수:** 이미 ROS 1으로 구축된 방대한 레거시 코드나 패키지를 활용해야 할 경우.
- **특정 패키지 의존성:** 아직 ROS 2로 마이그레이션되지 않은 ROS 1 전용 핵심 패키지가 필요한 경우 (점차 줄어드는 추세).

### ROS 2를 선택하는 경우:
- **새로운 프로젝트 시작:** 현재 및 미래의 표준은 ROS 2입니다. 새로운 프로젝트는 특별한 이유가 없는 한 ROS 2로 시작하는 것이 좋습니다.
- **상용 제품 개발:** 다중 로봇 시스템, 실시간 제어, 강화된 보안 등 상용화에 필수적인 기능이 필요할 때.
- **크로스 플랫폼 지원:** Windows, macOS 등 다양한 운영체제에서 로봇 애플리케이션을 개발해야 할 때.

## 결론

ROS 2는 ROS 1의 한계를 극복하고, 실제 산업 현장과 상용 제품에 적용할 수 있도록 설계된 차세대 로봇 플랫폼입니다. 비록 ROS 1의 생태계가 여전히 크지만, ROS 2로의 전환은 가속화되고 있으며, 장기적인 관점에서 ROS 2를 학습하고 도입하는 것이 현명한 선택입니다. 프로젝트의 요구사항과 기존 자원의 활용 가능성을 고려하여 적절한 버전을 선택해야 합니다.
