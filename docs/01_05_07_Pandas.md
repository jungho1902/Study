# Pandas: 데이터 조작 및 분석

**Pandas**는 파이썬에서 데이터 분석과 조작을 위해 가장 널리 사용되는 라이브러리입니다. Pandas는 R의 `data.frame`과 유사한, **DataFrame**이라는 강력하고 유연한 2차원 데이터 구조를 제공하여 테이블 형태의 데이터를 쉽게 다룰 수 있게 해줍니다.

CSV, Excel, SQL 데이터베이스 등 다양한 소스로부터 데이터를 읽고, 정제하며, 분석하고, 시각화하기 전 단계의 전처리 작업을 수행하는 데 필수적인 도구입니다.

---

### 1. Pandas의 핵심 자료구조

- 먼저 `import pandas as pd`로 라이브러리를 가져오는 것이 관례입니다.

#### 가. Series
- **1차원** 라벨(label)이 붙은 배열입니다.
- 인덱스(index)와 값(value)으로 구성됩니다. 인덱스를 지정하지 않으면 0부터 시작하는 정수 인덱스가 자동으로 생성됩니다.

```python
import pandas as pd

s = pd.Series([10, 20, 30, 40], index=['a', 'b', 'c', 'd'])
print(s)
# a    10
# b    20
# c    30
# d    40
# dtype: int64

# 인덱스로 값에 접근
print(s['b']) # 20
```

#### 나. DataFrame
- **2차원** 라벨이 붙은 데이터 구조로, 여러 개의 Series가 모여 만들어진 테이블 형태입니다.
- 행(row)과 열(column)에 각각 인덱스를 가집니다.

---

### 2. DataFrame 생성

- 파이썬 딕셔너리나 리스트의 리스트 형태로 주로 생성합니다.

```python
import pandas as pd

# 딕셔너리로 DataFrame 생성
data = {'Name': ['Alice', 'Bob', 'Charlie', 'David'],
        'Age': [25, 30, 35, 40],
        'City': ['New York', 'Los Angeles', 'Chicago', 'Houston']}
df = pd.DataFrame(data)
print(df)
#       Name  Age         City
# 0    Alice   25     New York
# 1      Bob   30  Los Angeles
# 2  Charlie   35      Chicago
# 3    David   40      Houston
```

---

### 3. 데이터 선택 및 필터링 (Selection & Filtering)

DataFrame에서 원하는 데이터를 추출하는 것은 데이터 분석의 핵심적인 부분입니다.

#### 가. 열(Column) 선택
- `df['ColumnName']` 또는 `df.ColumnName` 형식으로 선택합니다. (여러 열 선택 시 리스트 사용)

```python
# 'Name' 열 선택
print(df['Name'])

# 'Name'과 'City' 열 선택
print(df[['Name', 'City']])
```

#### 나. 행(Row) 선택
- **`.loc`**: 라벨(index name) 기반으로 행을 선택합니다.
- **`.iloc`**: 정수 위치(integer position) 기반으로 행을 선택합니다.

```python
# .loc: 인덱스 라벨이 1인 행 선택
print(df.loc[1])

# .iloc: 0부터 시작하는 위치상 1번째 행 선택
print(df.iloc[1])

# 여러 행 슬라이싱
print(df.iloc[1:3]) # 1번, 2번 행 선택
```

#### 다. 조건부 선택 (Conditional Filtering)
- 특정 조건을 만족하는 행만 필터링합니다.

```python
# 나이가 30보다 많은 사람들의 데이터만 선택
older_than_30 = df[df['Age'] > 30]
print(older_than_30)

# 도시가 'Chicago'인 사람의 이름과 나이만 선택
chicago_person = df.loc[df['City'] == 'Chicago', ['Name', 'Age']]
print(chicago_person)
```

---

### 4. 데이터 확인을 위한 기본 함수

- **`.head(n)`**: 데이터프레임의 처음 n개 행을 보여줍니다. (기본값 n=5)
- **`.tail(n)`**: 데이터프레임의 마지막 n개 행을 보여줍니다. (기본값 n=5)
- **`.shape`**: 데이터프레임의 행과 열의 수를 튜플로 반환합니다.
- **`.info()`**: 데이터프레임의 각 열에 대한 정보(데이터 타입, non-null 값 개수 등)를 요약해서 보여줍니다.
- **`.describe()`**: 숫자형 열에 대한 주요 기술 통계량(개수, 평균, 표준편차, 최솟값, 사분위수, 최댓값)을 보여줍니다.

Pandas는 이 외에도 데이터 정렬, 결측치 처리, 그룹화(Groupby), 데이터 병합(Merge/Concat) 등 데이터 전처리에 필요한 거의 모든 기능을 제공하는 강력한 라이브러리입니다.
