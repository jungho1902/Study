# 파트 10: AI 기반 로봇 응용 (AI-Powered Robotic Applications)

## 10.2. 로봇 매니퓰레이션 (Robot Manipulation)

### 10.2.2. 작업 계획 (Task Planning)

**들어가며**

로봇이 물체를 성공적으로 집을 수 있게 되었다면(파지), 이제 그 물체를 가지고 무엇을 할 것인지, 즉 **'작업(Task)'**을 계획해야 합니다. 작업 계획은 단순히 'A를 집어서 B로 옮겨라'와 같은 단일 명령을 넘어, 여러 단계의 행동 순서를 논리적으로 결정하고, 각 행동을 수행하기 위한 로봇의 구체적인 움직임을 생성하는 복합적인 과정입니다. 예를 들어, '나사못으로 두 부품 조립하기'라는 작업을 위해서는 '나사못 집기 -> 부품 A의 구멍으로 이동 -> 나사못 끼우기 -> 드라이버 집기 -> 나사못 조이기'와 같은 일련의 하위 작업 순서를 계획해야 합니다.

이 장에서는 대표적인 작업인 **Pick-and-Place**와, 더 나아가 복잡한 **조립(Assembly)**을 위한 작업 및 모션 계획에 대해 다룹니다.

---

**1. Pick-and-Place 작업 순서 계획**

Pick-and-Place는 가장 기본적이면서도 중요한 매니퓰레이션 작업입니다. 여러 개의 물체를 집어서 지정된 위치로 옮기는 이 작업은, 어떤 순서로 물체를 옮기느냐에 따라 작업의 효율성과 성공 여부가 크게 달라질 수 있습니다.

- **작업 계획의 필요성:**
  - **장애물 회피:** 한 물체를 옮기는 경로에 다른 물체가 방해가 될 수 있습니다. 어떤 물체를 먼저 치워야 길이 열리는지 순서를 고려해야 합니다.
  - **안정성:** 키가 큰 물체를 먼저 옮기다가 로봇 팔에 부딪혀 쓰러뜨릴 수 있습니다. 안정적인 순서를 계획해야 합니다.
  - **효율성:** 로봇의 이동 거리를 최소화하는 최적의 순서를 찾아 작업 시간을 단축해야 합니다. 이는 '외판원 문제(Traveling Salesman Problem, TSP)'와 유사한 최적화 문제입니다.

- **접근 방식:**
  - **작업 및 모션 계획 (Task and Motion Planning, TAMP):**
    - **개념:** '무슨 일(Task)을 할 것인가'와 '어떻게 움직일 것인가(Motion)'를 통합하여 함께 계획하는 문제입니다. 작업 순서(Symbolic/Discrete)와 로봇의 연속적인 움직임(Geometric/Continuous)은 서로에게 강한 제약을 주기 때문에, 이를 분리해서 풀기 어렵습니다.
    - **예시:** 'A를 B로 옮긴다'는 작업(Task)은, A를 집기 위한 로봇 팔의 경로와 B로 옮기는 경로(Motion)가 장애물 없이 존재할 때만 유효한 계획이 됩니다.
    - **해결:** 주로 샘플링 기반(Sampling-based) 접근법을 사용합니다. 가능한 작업 순서와 그에 따른 모션 경로를 무작위로 탐색하고, 성공적인 계획이 나올 때까지 이를 반복합니다.

---

**2. 조립(Assembly)을 위한 모션 계획**

조립은 Pick-and-Place보다 훨씬 더 높은 정밀도를 요구하는 복잡한 작업입니다. 부품을 단순히 옮기는 것을 넘어, 부품 간의 정확한 맞춤(mating)이 필요하기 때문입니다.

- **주요 과제:**
  - **엄격한 제약조건:** 부품을 조립하기 위한 로봇 팔의 경로는 매우 좁은 공간을 통과해야 할 수 있습니다. (예: 구멍에 핀을 끼우는 작업)
  - **힘 제어의 필요성:** 단순히 위치만 제어해서는 부품을 끼워 맞추기 어렵습니다. 부품 간에 발생하는 접촉 힘을 감지하고, 이를 이용해 미세한 자세를 조정하는 **힘 제어(Force Control)** 또는 **임피던스 제어(Impedance Control)**가 필수적입니다. (파트 8.4 로봇 제어 연계)
  - **불확실성:** 센서의 노이즈, 로봇 제어의 오차, 부품의 미세한 크기 차이 등으로 인해 항상 불확실성이 존재합니다.

- **접근 방식:**
  - **제약 조건 기반 모션 계획 (Constrained Motion Planning):**
    - **개념:** 조립 경로 주변의 좁은 '자유 공간(Free Space)' 내에서만 경로를 탐색하도록 강한 제약 조건을 부여하는 방식입니다.
    - **기술:** RRT와 같은 샘플링 기반 알고리즘을 제약 조건에 맞게 변형하여 사용합니다.

  - **힘/위치 하이브리드 제어 (Hybrid Force/Position Control):**
    - **개념:** 작업에 따라 힘을 제어할 축과 위치를 제어할 축을 분리하여 제어하는 방식입니다.
    - **예시:** 벽에 못을 박을 때, 벽 방향으로는 일정한 힘을 가하고(힘 제어), 벽면을 따라 움직이는 방향으로는 정확한 위치를 유지(위치 제어)합니다.

  - **학습 기반 접근 (Learning-based Approach):**
    - **개념:** 인간의 조립 시연(demonstration) 데이터나 강화학습을 통해 조립 기술을 학습합니다.
    - **모방 학습:** 인간이 직접 로봇을 조작하여 조립 작업을 시연하고, 로봇은 이 궤적과 힘 프로파일을 학습하여 모방합니다.
    - **강화 학습:** 조립 성공/실패에 대한 보상을 통해, 로봇이 수많은 시뮬레이션 시행착오를 거쳐 스스로 최적의 조립 전략을 학습합니다. (파트 10.2.3 연계)

**결론**

작업 계획은 로봇 매니퓰레이션의 '지능'을 담당하는 부분입니다. TAMP와 같은 기술을 통해 논리적인 작업 순서를 결정하고, 정밀한 모션 계획과 힘 제어를 결합함으로써 로봇은 단순히 물건을 옮기는 것을 넘어, 복잡한 부품을 조립하고 정교한 작업을 수행할 수 있는 능력을 갖추게 됩니다. 특히 학습 기반 접근법은 기존 방식으로 해결하기 어려웠던 미세하고 복잡한 조립 작업의 새로운 해법을 제시하고 있습니다.
